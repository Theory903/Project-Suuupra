# ==============================================================================
# Suuupra Platform - Production Environment Configuration
# ==============================================================================

# Environment
NODE_ENV=production
ENVIRONMENT=production
LOG_LEVEL=info

# ==============================================================================
# INFRASTRUCTURE CONFIGURATION
# ==============================================================================

# AWS Configuration
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=123456789012

# Kubernetes
KUBE_NAMESPACE=production
CLUSTER_NAME=suuupra-prod-eks

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================

# PostgreSQL - Primary Database
POSTGRES_HOST=suuupra-prod-rds.cluster-xxx.us-east-1.rds.amazonaws.com
POSTGRES_PORT=5432
POSTGRES_USER=suuupra_admin
POSTGRES_PASSWORD=CHANGE_ME_IN_PRODUCTION
POSTGRES_SSL_MODE=require

# Individual Service Databases
POSTGRES_DB_IDENTITY=identity_prod
POSTGRES_DB_COMMERCE=commerce_prod
POSTGRES_DB_PAYMENTS=payments_prod
POSTGRES_DB_LEDGER=ledger_prod
POSTGRES_DB_ANALYTICS=analytics_prod
POSTGRES_DB_BANK_SIMULATOR=bank_simulator_prod
POSTGRES_DB_UPI_CORE=upi_core_prod
POSTGRES_DB_UPI_PSP=upi_psp_prod
POSTGRES_DB_LIVE_CLASSES=live_classes_prod
POSTGRES_DB_VOD=vod_prod
POSTGRES_DB_LLM_TUTOR=llm_tutor_prod

# Redis Configuration
REDIS_HOST=suuupra-prod-redis.xxx.cache.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_IN_PRODUCTION
REDIS_SSL=true

# MongoDB Configuration (Content Service)
MONGODB_URI=mongodb://suuupra-prod-mongo.xxx.docdb.amazonaws.com:27017/content_prod?ssl=true&replicaSet=rs0

# Elasticsearch Configuration
ELASTICSEARCH_NODE=https://suuupra-prod-es.xxx.es.amazonaws.com:443
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=CHANGE_ME_IN_PRODUCTION

# ==============================================================================
# SERVICE PORTS CONFIGURATION
# ==============================================================================

# Core Services
API_GATEWAY_PORT=3001
IDENTITY_SERVICE_PORT=8081
CONTENT_SERVICE_PORT=8082
COMMERCE_SERVICE_PORT=8084
PAYMENT_SERVICE_PORT=8084
NOTIFICATION_SERVICE_PORT=8085
ANALYTICS_SERVICE_PORT=8087
MASS_LIVE_SERVICE_PORT=8088
LIVE_TRACKING_SERVICE_PORT=8089
LLM_TUTOR_SERVICE_PORT=8092
CREATOR_STUDIO_PORT=8093
RECOMMENDATIONS_SERVICE_PORT=8095
SEARCH_CRAWLER_SERVICE_PORT=8096
UPI_PSP_SERVICE_PORT=8097
ADMIN_SERVICE_PORT=8099

# Specialized Services
COUNTERS_SERVICE_PORT=8086
LEDGER_SERVICE_PORT=8086
LIVE_CLASSES_SERVICE_PORT=8086
VOD_SERVICE_PORT=8087
BANK_SIMULATOR_PORT=3000
UPI_CORE_GRPC_PORT=50051

# ==============================================================================
# SECURITY CONFIGURATION
# ==============================================================================

# JWT Configuration
JWT_SECRET=CHANGE_ME_IN_PRODUCTION_SUPER_LONG_SECRET_KEY
JWT_EXPIRY=1h
JWT_REFRESH_EXPIRY=24h
JWT_ISSUER=https://identity.suuupra.com
JWT_AUDIENCE=suuupra-api

# OAuth Configuration
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=CHANGE_ME_IN_PRODUCTION
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=CHANGE_ME_IN_PRODUCTION

# Encryption Keys
ENCRYPTION_KEY=CHANGE_ME_IN_PRODUCTION_32_CHAR_KEY
AES_ENCRYPTION_KEY=CHANGE_ME_IN_PRODUCTION_AES_KEY

# API Keys
OPENAI_API_KEY=CHANGE_ME_IN_PRODUCTION
ANTHROPIC_API_KEY=CHANGE_ME_IN_PRODUCTION

# ==============================================================================
# SERVICE MESH & NETWORKING
# ==============================================================================

# Service Discovery
SERVICE_DISCOVERY_TYPE=kubernetes
CONSUL_HOST=consul.service.consul
CONSUL_PORT=8500

# Service URLs (Internal Kubernetes DNS)
IDENTITY_SERVICE_URL=http://identity-service.production.svc.cluster.local:8081
CONTENT_SERVICE_URL=http://content-service.production.svc.cluster.local:8082
COMMERCE_SERVICE_URL=http://commerce-service.production.svc.cluster.local:8084
PAYMENT_SERVICE_URL=http://payment-service.production.svc.cluster.local:8084
NOTIFICATION_SERVICE_URL=http://notification-service.production.svc.cluster.local:8085
ANALYTICS_SERVICE_URL=http://analytics-service.production.svc.cluster.local:8087
MASS_LIVE_SERVICE_URL=http://mass-live-service.production.svc.cluster.local:8088
LIVE_TRACKING_SERVICE_URL=http://live-tracking-service.production.svc.cluster.local:8089
LLM_TUTOR_SERVICE_URL=http://llm-tutor-service.production.svc.cluster.local:8092
UPI_CORE_SERVICE_URL=http://upi-core-service.production.svc.cluster.local:50051
UPI_PSP_SERVICE_URL=http://upi-psp-service.production.svc.cluster.local:8097

# External URLs
API_GATEWAY_EXTERNAL_URL=https://api.suuupra.com
FRONTEND_URL=https://suuupra.com
ADMIN_DASHBOARD_URL=https://admin.suuupra.com

# ==============================================================================
# STORAGE CONFIGURATION
# ==============================================================================

# AWS S3
S3_BUCKET_NAME=suuupra-prod-content
S3_BUCKET_REGION=us-east-1
S3_CDN_URL=https://cdn.suuupra.com

# File Upload Limits
MAX_FILE_SIZE=100MB
MAX_VIDEO_SIZE=2GB
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,mp4,mov,avi

# ==============================================================================
# PAYMENT CONFIGURATION
# ==============================================================================

# UPI Configuration
UPI_ACQUIRER_ID=SUUUPRA
UPI_PSP_ID=SUUUPRAPSP
UPI_MERCHANT_ID=SUUUPRA001
UPI_VPA_SUFFIX=@suuupra

# Payment Gateway
RAZORPAY_KEY_ID=rzp_live_xxx
RAZORPAY_KEY_SECRET=CHANGE_ME_IN_PRODUCTION
STRIPE_PUBLISHABLE_KEY=pk_live_xxx
STRIPE_SECRET_KEY=CHANGE_ME_IN_PRODUCTION

# ==============================================================================
# OBSERVABILITY CONFIGURATION
# ==============================================================================

# Prometheus
PROMETHEUS_METRICS_PORT=9090
PROMETHEUS_ENDPOINT=http://prometheus.monitoring.svc.cluster.local:9090

# Jaeger
JAEGER_ENDPOINT=http://jaeger-collector.monitoring.svc.cluster.local:14268
JAEGER_SAMPLER_TYPE=probabilistic
JAEGER_SAMPLER_PARAM=0.1

# Grafana
GRAFANA_URL=https://grafana.suuupra.com
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_IN_PRODUCTION

# Alerting
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/xxx/xxx
PAGERDUTY_INTEGRATION_KEY=CHANGE_ME_IN_PRODUCTION
ALERT_EMAIL=alerts@suuupra.com

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================

# Content Service Features
ENABLE_CONTENT_VERSIONING=true
ENABLE_APPROVAL_WORKFLOW=true
ENABLE_WEBHOOK_DELIVERY=true
ENABLE_CONTENT_MODERATION=true
ENABLE_BACKGROUND_JOBS=true

# Commerce Features
ENABLE_INVENTORY_TRACKING=true
ENABLE_PRICE_OPTIMIZATION=true
ENABLE_RECOMMENDATION_ENGINE=true

# Analytics Features
ENABLE_REAL_TIME_ANALYTICS=true
ENABLE_PREDICTIVE_ANALYTICS=true
ENABLE_USER_BEHAVIOR_TRACKING=true

# ==============================================================================
# RATE LIMITING & THROTTLING
# ==============================================================================

# API Gateway Rate Limits
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_MAX_REQUESTS_PER_IP=100

# Circuit Breaker
CIRCUIT_BREAKER_TIMEOUT=5000
CIRCUIT_BREAKER_THRESHOLD=10
CIRCUIT_BREAKER_RESET_TIMEOUT=60000

# ==============================================================================
# SCALING CONFIGURATION
# ==============================================================================

# Auto Scaling
MIN_REPLICAS=3
MAX_REPLICAS=100
TARGET_CPU_UTILIZATION=70
TARGET_MEMORY_UTILIZATION=80

# Database Connection Pooling
DB_POOL_MIN=10
DB_POOL_MAX=100
DB_POOL_IDLE_TIMEOUT=300
DB_POOL_ACQUIRE_TIMEOUT=10000

# ==============================================================================
# BACKUP & DISASTER RECOVERY
# ==============================================================================

# Backup Configuration
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *
ENABLE_CROSS_REGION_BACKUP=true

# Disaster Recovery
DR_REGION=us-west-2
RTO_TARGET_MINUTES=15
RPO_TARGET_MINUTES=5

# ==============================================================================
# COMPLIANCE & SECURITY
# ==============================================================================

# CORS Configuration
CORS_ORIGIN=https://suuupra.com,https://admin.suuupra.com
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Origin,X-Requested-With,Content-Type,Accept,Authorization

# Security Headers
ENABLE_SECURITY_HEADERS=true
ENABLE_RATE_LIMITING=true
ENABLE_REQUEST_LOGGING=true

# Compliance
ENABLE_AUDIT_LOGGING=true
ENABLE_DATA_ENCRYPTION=true
ENABLE_PII_PROTECTION=true
GDPR_COMPLIANCE=true
PCI_DSS_COMPLIANCE=true

# ==============================================================================
# DEVELOPMENT & DEBUGGING
# ==============================================================================

# Development Features (disabled in production)
ENABLE_DEBUG_MODE=false
ENABLE_SWAGGER_UI=false
ENABLE_PROFILING=false
ENABLE_HOT_RELOAD=false
